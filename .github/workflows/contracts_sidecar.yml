name: contracts-sidecar
on: [push, pull_request]
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-python@v5
        with: { python-version: '3.x' }
      - name: Build sidecar
        run: python3 scripts/contracts_build.py --in CONTRACTS.md --out contracts.min.json
      - name: Validate sidecar
        run: python3 scripts/contracts_validate.py
