[embeddings]
# preset = "e5"  # e5 | e5-large | mini
# model = "intfloat/e5-base-v2"  # or "hash-emb-v1" for deterministic CPU-only testing
gpu_min_free_mb = 1536

[storage]
# index_path = ".rag/index_v2.db"


[enrichment]
#enabled = true
#default_chain = "athena"

batch_size = 50
est_tokens_per_span = 350

[[enrichment.chain]]
name = "athena"
chain = "athena"
provider = "ollama"
url = "http://192.168.5.20:11434"
routing_tier = "7b"
timeout_seconds = 120
enabled = true
options = { num_ctx = 8192, temperature = 0.2 }

[[enrichment.chain]]
name = "athena-14b"
chain = "athena"
provider = "ollama"
url = "http://192.168.5.20:11434"
routing_tier = "14b"
timeout_seconds = 180
enabled = true
options = { num_ctx = 12288, temperature = 0.2 }

# [[enrichment.chain]]
# name = "groq-70b"
# chain = "groq"
# provider = "gateway"
# model = "groq/llama3-70b-8192"
# routing_tier = "14b"
# enabled = false

# [[enrichment.chain]]
# name = "google-flash"
# chain = "google"
# provider = "gemini"
# model = "gemini-1.5-flash"
# routing_tier = "nano"
# enabled = false

[indexing]
exclude_dirs = [
    ".git",
    ".rag",
    "node_modules",
    "dist",
    "build",
    "__pycache__",
    ".venv",
    "venv",
    ".next",
    ".cache",
    ".pytest_cache",
    "coverage",
    ".DS_Store",
    "Thumbs.db",
]





[logging]
max_file_size_mb = 10
keep_jsonl_lines = 1000
enable_rotation = true
log_directory = "logs"
auto_rotation_interval = 0
