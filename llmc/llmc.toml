[storage]
index_path = ".llmc/index_v2.db"

[logging]
log_directory = ".llmc/logs"
enable_rotation = true
max_file_size_mb = 10
keep_jsonl_lines = 1000

[indexing]
exclude_dirs = [
    ".git",
    ".llmc",
    ".venv",
    "__pycache__",
    "node_modules",
    "dist",
    "build",
    ".pytest_cache",
    ".mypy_cache",
]

[embeddings]
default_profile = "docs"

[embeddings.profiles.docs]
provider = "ollama"
model = "nomic-embed-text"
dimension = 768

[rag]
enabled = true

[enrichment.path_weights]
# Weight 1-10: lower = higher priority, 10 = back of the line
# Patterns are globs, matched against repo-relative paths

# Defaults (ship with these)
"src/**"        = 1
"lib/**"        = 1
"app/**"        = 1
"core/**"       = 1
"pkg/**"        = 2
"internal/**"   = 2
"cmd/**"        = 2

# Test code - deprioritized but not banished
"**/tests/**"     = 6
"**/test/**"      = 6
"**/__tests__/**" = 6
"*_test.py"       = 6
"test_*.py"       = 6
"*.test.ts"       = 6
"*.spec.js"       = 6

# Docs and config - the fatties
"docs/**"       = 8
"*.md"          = 7
".github/**"    = 9
"examples/**"   = 7

# Vendor trash - absolute back of the line
"vendor/**"       = 10
"node_modules/**" = 10  # shouldn't even be scanned but just in case
"third_party/**"  = 10

# Be careful enabling this, it's a great way to get a lot of data fast, but also eat up your disk space.
[mcp.observability]
enabled = true
log_format = "json"
csv_token_audit_enabled = true
csv_path = "./artifacts/mcp_token_audit.csv"